
# UI Components Architecture

### Основные экраны

1. **Регистрация**
2. **Вход в систему**
3. **Профиль пользователя**
4. **Загрузка данных**
5. **Просмотр статистики сна**
6. **Просмотр хронотипа**

---

## 1. **Регистрация**

### Компоненты

* **Форма регистрации**:

  * Поля:

    * Имя (обязательное)
    * Email (обязательное, валидация формата email)
    * Пароль (обязательное, с проверкой на сложность)
    * Дата рождения (обязательная, дата в формате YYYY-MM-DD)
    * Пол (обязательный, выбор из "Женский" или "Мужской")
    * Рост (обязательный, числовое значение)
    * Вес (обязательный, числовое значение)
  * **Ошибка**: если данные некорректны (например, неправильно введен email, пароль не соответствует требованиям безопасности).
  * **Кнопка**: "Зарегистрироваться"
  * **Навигация**: Ссылка "Уже есть аккаунт?" для перехода на страницу входа.

### Состояния:

* **Загрузка**: Спиннер или индикатор прогресса на кнопке при отправке формы.
* **Ошибка**: Появляется ошибка для каждого поля, если данные введены неправильно.
* **Успех**: После успешной регистрации, пользователь автоматически редиректится на страницу входа.

---

## 2. **Вход в систему**

### Компоненты

* **Форма входа**:

  * Поля:

    * Email (обязательное)
    * Пароль (обязательное)
  * **Ошибка**: если введены неверные данные (неверный email или пароль).
  * **Кнопка**: "Войти"
  * **Навигация**: Ссылка "Забыли пароль?" для восстановления доступа.

### Состояния:

* **Загрузка**: Индикатор загрузки на кнопке или поле.
* **Ошибка**: Сообщение о неверных данных или ошибке аутентификации.
* **Успех**: При успешной аутентификации, редирект на главную страницу пользователя.

---

## 3. **Профиль пользователя**

### Компоненты

* **Карточка профиля**:

  * **Информация**:

    * Имя пользователя, email, дата рождения, пол, рост, вес.
    * Статус подписки на рассылку.

  * **Кнопки**:

    * "Редактировать" (для редактирования профиля).
    * "Выйти" (для выхода из системы).

* **Статистика**:

  * Средняя продолжительность сна.
  * Рекомендации по улучшению сна, если они доступны.

### Состояния:

* **Загрузка**: Появляется индикатор, пока данные профиля не загружены.
* **Ошибка**: Сообщение об ошибке при проблемах с загрузкой данных.
* **Успех**: При успешной загрузке данных профиля, отображаются все поля.

---

## 4. **Загрузка данных о сне**

### Компоненты

* **Форма загрузки CSV**:

  * Инструкция для пользователя по загрузке файла.
  * **Drag-and-drop область** для загрузки файла.
  * **Ошибка**: если формат файла некорректен или файл пуст.
  * **Кнопка**: "Загрузить файл".

### Состояния:

* **Загрузка**: Отображение индикатора прогресса при обработке файла.
* **Ошибка**: Сообщение об ошибке (например, неправильный формат CSV или проблема с файлом).
* **Успех**: Уведомление о успешной загрузке данных.

---

## 5. **Просмотр статистики сна**

### Компоненты

#### **Графики**:


  * График фазы сна (глубокий, легкий, REM, бодрствование) — отображается в виде временного ряда.
  * График пульса за ночь — динамика пульса, отображаемая на основе точек, собранных в разные временные интервалы.
  * График общей продолжительности сна — показывает продолжительность сна за выбранный период (неделя, месяц).


#### **Рекомендации**

* В блоке рекомендаций пользователю предоставляется **персонализированный план по улучшению качества сна**. Этот план основывается на анализе метрик сна, включая:

  * Оценка качества сна.
  * Персонализированные советы по улучшению сна.
  * Прогноз ожидаемого эффекта от следования этим рекомендациям (улучшение продолжительности сна на 15% за неделю).


### Состояния

#### 1. **Загрузка**

* Появляется сообщение загрузки, если данные еще не обработаны или находятся в процессе расчета.
* Для графиков отображается сообщение "Недостаточно данных, чтобы показать распределение фаз сна", если данных недостаточно для отображения.

#### 2. **Ошибка**

* Если данные не загружены или процесс получения данных не удался (например, из-за технической ошибки), появляется сообщение об ошибке с предложением повторить попытку.
* В случае отсутствия данных за выбранный период показывается сообщение «Нет данных за выбранный период», с предложением изменить параметры выбора.

#### 3. **Успех**

* После успешного получения данных о сне, графики и метрики отображаются на экране. Также отображаются рекомендации с персонализированным планом.


---

## 6. **Просмотр хронотипа**

### Компоненты

* **Карточка хронотипа**:

  * Отображение типа хронотипа (жаворонок, голубь, сова) с описанием.
  * Общие рекомендации по времени сна в зависимости от хронотипа.


### Состояния:

* **Загрузка**: Появляется индикатор загрузки.
* **Ошибка**: Сообщение о недостаточности данных для расчета хронотипа.
* **Успех**: Тип хронотипа отображается с рекомендациями по времени сна.

---

## Responsive Design (Desktop + Mobile)

1. Все элементы интерфейса будут использовать **Bootstrap grid system**, который автоматически адаптирует компоненты под размер экрана.
2. Контейнеры и карточки будут изменять свой размер в зависимости от ширины экрана, обеспечивая комфортное взаимодействие с приложением на различных устройствах.
